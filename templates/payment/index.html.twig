{% extends 'base.html.twig' %}

{% block title %}Paiement - {{ parent() }}{% endblock %}

{% block body %}

<div class="register">
    {{ form_start( form, {
        'attr': {
            'class': 'container-fluid my-2',
            'novalidate': 'novalidate',
            'id': 'payment-form',  
        }
    } ) }}

    <div class="row my-2">
        <div class="col-lg-6">

            <h1>Paiement</h1>
            <div class="form-group">
                <label for="name">Nom et prénom du titulaire de la carte</label>
                <input name="name" class="form-control" id="card-name" type="text">
            </div>
            <label for="name">Informations de la carte</label>
            <div class="form-group" id="card-element">
                <!-- Elements will create input elements here -->
            </div>

            <!-- We'll put the error messages in this element -->
            <div id="card-errors" role="alert"></div>

            <input type="hidden" name="token" id="token">

            <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="checkme">
                <label class="form-check-label" for="exampleCheck1">En cochant cette case vous vous engagez à payer la
                    caution de votre montre en cas de non retour , de retour tardif ou dégradation.</label>
            </div>

            <button type="submit" disabled class="btn btn-success" id="card-button"
                data-secret=" {{  intent.client_secret }} ">
                Payer
            </button>
            {{ form_end( form ) }}
        </div>
    </div>

</div>

{% endblock %}

{% block javascripts %}
<script src="https://js.stripe.com/v3/"></script>
{{ encore_entry_script_tags('stripe') }}

{% endblock %}